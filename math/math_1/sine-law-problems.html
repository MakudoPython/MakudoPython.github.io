<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>問題集：四角形の面積（対角線と角）</title>

  <!-- MathJax（数式を使う場合） -->
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    body{
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
      background:#f5f5f5;
      margin:0;
      padding:40px;
      line-height:1.8;
      color:#222;
    }
    .box{
      max-width: 900px;
      margin: 0 auto;
      background:#fff;
      padding:28px;
      border-radius:14px;
      box-shadow:0 8px 24px rgba(0,0,0,0.08);
    }
    a{ color:#2563eb; }
    h1{ margin:0 0 8px; font-size:26px; }
    .muted{ color:#666; font-size:14px; margin:0 0 18px; }

    .card{
      border:1px solid #eee;
      border-radius:14px;
      padding:18px;
      margin:18px 0;
      background:#fafafa;
    }
    .card h2{
      margin:0 0 8px;
      font-size:18px;
    }

    .btnrow{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
    button{
      padding:10px 14px;
      border:1px solid #d1d5db;
      border-radius:12px;
      background:#fff;
      cursor:pointer;
      font-size:14px;
    }
    button:hover{ filter:brightness(0.98); }

    .panel{
      display:none;
      margin-top:12px;
      padding:14px;
      border:1px solid #e5e7eb;
      border-radius:12px;
      background:#fff;
    }

    .hintimg{
      max-width:100%;
      height:auto;
      display:block;
      border-radius:12px;
      border:1px solid #e5e7eb;
    }

    .backlinks{ margin-top:22px; }
    .backlinks a{ display:inline-block; margin-right:14px; }
  </style>
</head>

<body>
  <div class="box">
    <h1>問題集：四角形の面積（対角線と角）</h1>
    <p class="muted">
      解説ボタンで解説を表示/非表示できます。ヒントボタンで図を表示できます。
    </p>

    <div class="card">
      <h2>問題 1</h2>
      <p>
        四角形 \(ABCD\) について、対角線 \(AC, BD\) の長さをそれぞれ \(x, y\) とし、
        そのなす角を \(\theta\) とおく。四角形 \(ABCD\) の面積 \(S\) を求めよ。
      </p>

      <div class="btnrow">
        <button type="button" data-toggle="hint1" data-on="ヒントを隠す" data-off="ヒントを表示">
          ヒントを表示
        </button>
        <button type="button" data-toggle="sol1" data-on="解説を隠す" data-off="解説を表示">
          解説を表示
        </button>
      </div>

      <!-- ヒント（図） -->
    <div id="hint1" class="panel">
      <p style="margin:0;">
        対角線の交点を \(O\) とする。
        \(AO=x_1,\ CO=x_2,\ BO=y_1,\ DO=y_2\) とおいて、
        四角形を小さな三角形に分けて考えてみよう。
      </p>
    </div>


      <!-- 解説（今は空でOK） -->
      <div id="sol1" class="panel">
        <p style="margin:0;">
          （ここに解説を書く予定。方針が決まったら追記）
        </p>
      </div>
    </div>

    <div class="backlinks">
      <a href="./sine-law.html">← 正弦定理に戻る</a>
      <a href="../index.html">← 数学トップに戻る</a>
    </div>
  </div>

  <script>
    // ボタンで表示/非表示をトグルする（解説・ヒント共通）
    document.querySelectorAll("button[data-toggle]").forEach(btn => {
      btn.addEventListener("click", () => {
        const id = btn.getAttribute("data-toggle");
        const panel = document.getElementById(id);
        if (!panel) return;

        const isOpen = panel.style.display === "block";
        panel.style.display = isOpen ? "none" : "block";

        const onText = btn.getAttribute("data-on") || "隠す";
        const offText = btn.getAttribute("data-off") || "表示";
        btn.textContent = isOpen ? offText : onText;

        // MathJaxがあるなら、開いたときに再描画（数式がある場合の保険）
        if (!isOpen && window.MathJax && window.MathJax.typesetPromise) {
          window.MathJax.typesetPromise([panel]).catch(() => {});
        }
      });
    });
  </script>
</body>
</html>
